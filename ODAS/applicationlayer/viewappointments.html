<!DOCTYPE html>
<html>
<head>
	<title>Admin</title>
	<link rel="stylesheet"  href="style7.css">

	<link href="https://fonts.googleapis.com/css2?family=Alfa+Slab+One&family=Open+Sans:wght@300&display=swap" rel="stylesheet">
</head>

<header>
	<h1>Doctor<span>Patient</span></h1>
	<nav>
		<ul> 
			<li><a href="index3.html">Add/Delete Doctor</a></li>
			<li><a href="viewdoctor.html">View Doctors</a></li>
			<li><a href="viewpatients.html">View Patients</a></li>
			<li><a href="viewappointments.html">View Appointments</a></li>
			<li><a href="feedback.html">FeedBack</a></li>
			<li><a href="Doctorpatient.html">Logout</a></li>
		</ul>
	</nav>
</header>

<body>
	<h1 style="margin-left:40% ;margin-top:80px"   class="asd"> Appointments </h1>
	<table class="table4">
		<th>
			<tr>
				<th>Appointments ID</th>
				<th>Doctor ID</th>
				<th>Patient ID</th>
				<th>Date</th>
				<th>Time</th>
			</tr>
		</th>
		<tbody>
<!-- Populate the table with data using JavaScript -->
		</tbody>
		
		
	</table>

	<script>

fetch("http://localhost:7080/api/appointment/list")
  .then((response) => {
    if (response.ok) {
      return response.json();
    }
    throw new Error("Network response not ok.");
  })
  .then((DATA) => {
    let info = "";
    DATA.forEach((item) => {
      info += `
        <tr>
          <td>${a_id}</td>
          <td>${item.doctor.d_id}</td>
          <td>${item.patient.p_id}</td>
		  <td>${item.date}</td>
		  <td>${item.time}</td>
		  
		  
        </tr>
      `;
    });
    document.getElementById('search').innerHTML = info;
  })
  .catch((error) => {
    console.error(error);
  });
	</script>
</body>
</html>
