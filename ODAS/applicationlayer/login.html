<!DOCTYPE html>
<html>
<head>
	<title>Patient</title>
	<link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
	<div class="header">
		<h2>Patient Login</h2>
	</div>

	<form  id="loginForm" >

		<div class="input-group">
			<label>User Name</label>
			<input type="text " name="name" id="name">
		</div>

		<div class="input-group">
			<label>Password</label>
			<input type="Password" name="password" id="password">
		</div>

		<div class="input-group">
			<button type="submit" name="Login" class="btn"> Login</button>
		</div>

		<p>
			Not a member? <a href="1st.html">Sign Up </a>
		</p>
	</form>

    <script>
        //Patient login
const loginForm= document.getElementById('loginForm');
  loginForm.addEventListener('submit',(event)=>{
    event.preventDefault();

    const name=document.getElementById('name').value;
    const password=document.getElementById('password').value;
    fetch('http://localhost:7080/api/patient/get')
      .then(response=>response.json())
      .then(data=>{
        const match=data.find(user=>user.name==name && user.password==password);
        if(match){
          alert('Successfull login');
          window.location.href='index.html';
        }

        else{
          alert('Wrong username or password');
        }
      
      })
      .catch(error=>{
        console.error('error',error);
        alert('An error occour during login');
      });

  });
    </script>
</body>
</html>
