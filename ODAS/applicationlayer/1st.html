<!DOCTYPE html>
<html>
<head>
	<title>Patient</title>
	<link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
	<div class="header">
		<h2>Register</h2>
	</div>

	<form method="post" id="registrationForm" enctype="multipart/form-data">

		<div class="input-group">
			<label>User ID</label>
			<input type="text" name="UserID" id="id">
		</div>

		<div class="input-group">
			<label>Name</label>
			<input type="text" name="name" id="name">
		</div>

		<div class="input-group">
			<label>Address</label>
			<input type="text" name="address" id="address">
		</div>

		<div class="input-group">
			<label>Contact Number</label>
			<input type="text" name="contact" id="contact">
		</div>

		<div class="input-group">
			<label>Email address</label>
			<input type="text" name="email"  id="email">
		</div>

		<div class="input-group">
			<label>Password</label>
			<input type="text" name="password" id="password">
		</div>

		<div class="input-group">
			<label>Blood type</label>
			<input type="text" name="bloodtype" id="bloodtype">
		</div>

		<div class="input-group">
			<button type="submit" name="Register" class="btn">Register</button>
		</div>

		<p>
			Already a member? <a href="login.html">Sign in</a>
		</p>
	</form>


    <script>
        // JavaScript code
       const form=document.getElementById('registrationForm');
       form.addEventListener('submit',(event)=>{
        event.preventDefault();
        let id=document.getElementById('id');
        let gender=document.getElementById('bloodtype');
        let address=document.getElementById('address');
        let name=document.getElementById('name');
        let email=document.getElementById('email');
        let contact=document.getElementById('contact');
        let Password=document.getElementById('password');
      
       
        const formData =new FormData(form);
        const Patient=Object.fromEntries(formData.entries());
    
    
        fetch('http://localhost:7080/api/patient/create',{
    
          method:'POST',
          headers:{
            'Content-Type':'application/json'
          },
          
          body:JSON.stringify(Patient)
        })
        .then(response => response.json())
        .then(data=>{
          console.log('Created successful',data);
          alert("Registration successfull");
          window.location.href = 'login2.html'; 
        })
        .catch(error =>{
          console.error('Error registering user',error);
        });
    
       });
          this.reset();
       
      </script>
</body>
</html>
